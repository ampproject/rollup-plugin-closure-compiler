language: node_js
dist: xenial
sudo: required  # See http://docs.travis-ci.com/user/trusty-ci-environment/
node_js:
  - "lts/*"
before_install:
  - unset _JAVA_OPTIONS  # JVM heap sizes break closure compiler. #11203.
script: 
  - yarn pretest
  - yarn c8 ava
  - yarn c8 report --reporter=lcovonly
  - yarn codecov
branches:
  only:
    - master
cache:
  directories:
    - node_modules
  yarn: true